---
// SRO5 - Weekly Task Scheduler with Magic Trick
// No external dependencies - all code is self-contained
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SRO5 - Weekly Task Scheduler</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 2rem;
        color: #333;
      }

      .container {
        /* max-width: 900px; */
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        padding: 2rem;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      }

      h1 {
        color: #667eea;
        text-align: center;
        margin-bottom: 1.5rem;
        font-size: 2.5rem;
      }

      .intro {
        background: #f0f4ff;
        padding: 1.5rem;
        border-radius: 10px;
        margin-bottom: 2rem;
        border-left: 5px solid #667eea;
      }

      .intro h2 {
        color: #764ba2;
        margin-bottom: 1rem;
      }

      .cornot-section {
        background: #fff9e6;
        padding: 1.5rem;
        border-radius: 10px;
        margin-bottom: 2rem;
        border-left: 5px solid #ffd93d;
      }

      .cornot-section h3 {
        color: #f39c12;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .days-reference {
        background: #e8f5e9;
        padding: 1rem;
        border-radius: 8px;
        margin: 1rem 0;
      }

      .days-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .day-item {
        background: white;
        padding: 0.5rem;
        border-radius: 5px;
        text-align: center;
        font-weight: bold;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1rem;
        margin-top: 2rem;
      }

      .calendar-day {
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        min-height: 200px;
        display: flex;
        flex-direction: column;
      }

      .calendar-day-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 0.8rem;
        text-align: center;
        font-weight: bold;
        border-radius: 6px 6px 0 0;
        font-size: 0.9rem;
      }

      .calendar-day-content {
        padding: 0.8rem;
        flex: 1;
        overflow-y: auto;
      }

      .calendar-task {
        background: #f0f4ff;
        border-left: 3px solid #667eea;
        padding: 0.6rem;
        margin-bottom: 0.5rem;
        border-radius: 4px;
        font-size: 0.85rem;
        word-wrap: break-word;
      }

      @media (max-width: 768px) {
        .calendar-grid {
          grid-template-columns: 1fr;
        }
      }

      .task-entry {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 10px;
        margin-bottom: 2rem;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      label {
        display: block;
        font-weight: bold;
        margin-bottom: 0.5rem;
        color: #555;
      }

      input[type='text'],
      input[type='number'] {
        width: 100%;
        padding: 0.8rem;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 1rem;
        transition: border-color 0.3s;
      }

      input[type='text']:focus,
      input[type='number']:focus {
        outline: none;
        border-color: #667eea;
      }

      button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 8px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition:
          transform 0.2s,
          box-shadow 0.2s;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      button:active {
        transform: translateY(0);
      }

      .task-list {
        margin-top: 2rem;
      }

      .task-list.hidden {
        display: none;
      }

      #huge-submit-button {
        background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
        margin-left: 1rem;
      }

      #huge-submit-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(243, 156, 18, 0.4);
      }

      #reset-button {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        margin-left: 1rem;
      }

      #reset-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
      }

      .magic-section {
        background: linear-gradient(135deg, #ffd93d 0%, #f39c12 100%);
        padding: 2rem;
        border-radius: 10px;
        margin-top: 2rem;
        color: white;
      }

      .magic-section.disabled {
        opacity: 0.5;
        pointer-events: none;
      }

      .magic-section h2 {
        margin-bottom: 1rem;
      }

      .magic-calculator {
        background: rgba(255, 255, 255, 0.3);
        padding: 1.5rem;
        border-radius: 8px;
        margin-top: 1rem;
      }

      .magic-result {
        font-size: 100pt;
        font-family: Helvetica, Arial, sans-serif;
        font-weight: bold;
        text-align: center;
        margin-top: 1rem;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
        min-height: 150px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .helper-text {
        font-size: 0.9rem;
        color: #666;
        font-style: italic;
        margin-top: 0.5rem;
      }

      .example-box {
        background: rgba(255, 255, 255, 0.5);
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1rem;
      }

      @media (max-width: 768px) {
        .container {
          padding: 1rem;
        }

        h1 {
          font-size: 2rem;
        }

        .magic-result {
          font-size: 60pt;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üìÖ SRO5 - Weekly Task Scheduler</h1>

      <div class="intro">
        <h2>Welcome to Version 3!</h2>
        <p>
          This is a game where you can write words and put them in the week you
          like. After this update, the next update will be about changing the
          name of the game, but we are on version 3 today!
        </p>
      </div>

      <div class="cornot-section">
        <h3>üë® Meet Cornot - Your Helper</h3>
        <p>Cornot will help with this game! Here's how it works:</p>

        <div class="days-reference">
          <strong>üìã The 7 Days of the Week:</strong>
          <div class="days-list">
            <div class="day-item">1Ô∏è‚É£ Monday</div>
            <div class="day-item">2Ô∏è‚É£ Tuesday</div>
            <div class="day-item">3Ô∏è‚É£ Wednesday</div>
            <div class="day-item">4Ô∏è‚É£ Thursday</div>
            <div class="day-item">5Ô∏è‚É£ Friday</div>
            <div class="day-item">6Ô∏è‚É£ Saturday</div>
            <div class="day-item">7Ô∏è‚É£ Sunday</div>
          </div>
        </div>

        <p>
          If you don't know and you are confused, look at the list of the 7 days
          above!
        </p>

        <div class="example-box">
          <strong>Example from Cornot:</strong>
          <p>
            üìù Cornot typed <strong>135</strong> in the number input and <strong
              >"law workers"</strong
            > in the task input.
          </p>
          <p>
            This means they did law workers on <strong
              >Mondays, Wednesdays, and Fridays</strong
            >.
          </p>
          <p>
            <br />üì¶ Then Cornot did "box carrying" with number <strong
              >1</strong
            > only. He would do that only on Monday!
          </p>
        </div>
      </div>

      <div class="task-entry">
        <h3>‚ûï Add Your Task</h3>

        <div class="form-group">
          <label for="day-numbers"
            >Enter Day Numbers (1-7, can combine like 135):</label
          >
          <input
            type="text"
            id="day-numbers"
            placeholder="e.g., 135 for Mon/Wed/Fri or 1 for Monday only"
            maxlength="7"
          />
          <p class="helper-text">
            Type the numbers for the days you want. Up to 1234567!
          </p>
        </div>

        <div class="form-group">
          <label for="task-description">What will you do on those days?</label>
          <input
            type="text"
            id="task-description"
            placeholder="e.g., law workers, box carrying, study time..."
          />
        </div>

        <button id="submit-task">üìå Submit Task</button>
        <button id="huge-submit-button">Show Schedule</button>
        <button id="reset-button">üîÑ Reset</button>
      </div>

      <div class="task-list hidden" id="task-list">
        <h3>üìù Your Weekly Schedule</h3>
        <div class="calendar-grid" id="calendar-container">
          <!-- Calendar will be rendered here by JavaScript -->
        </div>
      </div>

      <div></div>

      <!-- Magic Trick Section -->
      <div class="magic-section" id="magic-section">
        <h2>‚ú® Magic Trick Feature</h2>

        <div class="magic-calculator" id="magic-calculator">
          <h3>üé© The Magic Subtraction Trick</h3>
          <p>This is where you type a number and it will be subtracting!</p>
          <p>
            <strong
              >150 - (your secret number) = the answer in big Helvetica numbers
              which is 100pt!!!</strong
            >
          </p>
          <p style="font-size: 0.9rem; margin-top: 0.5rem;">
            And it hides the input number so that nobody knows how the person
            does it. It is a magic trick!
          </p>

          <div class="form-group" style="margin-top: 1rem;">
            <label for="magic-number">Enter your secret number:</label>
            <input
              type="text"
              id="magic-number"
              min="0.000"
              max="150000000000000.000"
              placeholder="your secret number"
            />
            <button id="calculate-magic" style="margin-top: 0.5rem;"
              >üé≤ Calculate Magic Result</button
            >
          </div>

          <div class="magic-result" id="magic-result"></div>
        </div>
      </div>
    </div>

    <script>
      // Task scheduling functionality
      const dayNumbersInput = document.getElementById('day-numbers')
      const taskDescInput = document.getElementById('task-description')
      const submitTaskBtn = document.getElementById('submit-task')
      const calendarContainer = document.getElementById('calendar-container')
      const taskListSection = document.getElementById('task-list')
      const showScheduleBtn = document.getElementById('huge-submit-button')
      const resetBtn = document.getElementById('reset-button')

      const dayNames = {
        '1': 'Monday',
        '2': 'Tuesday',
        '3': 'Wednesday',
        '4': 'Thursday',
        '5': 'Friday',
        '6': 'Saturday',
        '7': 'Sunday',
      }

      let tasks = []

      // Initialize calendar on load
      renderCalendar()

      submitTaskBtn.addEventListener('click', addTask)
      taskDescInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') addTask()
      })

      // Show/hide schedule button
      showScheduleBtn.addEventListener('click', () => {
        taskListSection.classList.toggle('hidden')
        showScheduleBtn.textContent = taskListSection.classList.contains('hidden')
          ? 'Show Schedule'
          : 'Hide Schedule'
      })

      // Reset button - clear all tasks
      resetBtn.addEventListener('click', () => {
        if (confirm('Are you sure you want to clear all tasks?')) {
          tasks = []
          renderCalendar()
        }
      })

      function addTask() {
        const dayNumbers = dayNumbersInput.value.trim()
        const description = taskDescInput.value.trim()

        if (!dayNumbers || !description) {
          alert('Please fill in both the day numbers and task description!')
          return
        }

        // Validate day numbers
        const validDays = dayNumbers
          .split('')
          .filter(d => '1234567'.includes(d))
        if (validDays.length === 0) {
          alert('Please enter valid day numbers (1-7)!')
          return
        }

        // Remove duplicates and sort
        const uniqueDays = [...new Set(validDays)].sort()

        const task = {
          days: uniqueDays,
          description: description,
          id: Date.now(),
        }

        tasks.push(task)
        renderCalendar()

        // Clear inputs
        dayNumbersInput.value = ''
        taskDescInput.value = ''
        dayNumbersInput.focus()
      }

      function renderCalendar() {
        // Create calendar structure with all 7 days
        const calendarHTML = Object.keys(dayNames)
          .map(dayNum => {
            const dayTasks = tasks.filter(task => task.days.includes(dayNum))
            const tasksHTML = dayTasks
              .map(
                task => `<div class="calendar-task">‚Ä¢ ${task.description}</div>`
              )
              .join('')

            return `
            <div class="calendar-day">
              <div class="calendar-day-header">
                ${dayNames[dayNum]}:
              </div>
              <div class="calendar-day-content">
                ${tasksHTML}
              </div>
            </div>
          `
          })
          .join('')

        calendarContainer.innerHTML = calendarHTML
      }

      // Magic trick functionality
      const magicNumberInput = document.getElementById('magic-number')
      const calculateMagicBtn = document.getElementById('calculate-magic')
      const magicResult = document.getElementById('magic-result')

      calculateMagicBtn.addEventListener('click', calculateMagic)
      magicNumberInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') calculateMagic()
      })

      function calculateMagic() {
        const secretNumber = parseInt(magicNumberInput.value)

        if (isNaN(secretNumber)) {
          alert('Please enter any number!')
          return
        }

        const result = 150 - secretNumber

        // Hide the input (the magic trick!)
        magicNumberInput.value = ''

        // Show the result in big 100pt Helvetica
        magicResult.textContent = result

        // Optional: Add a magical animation
        magicResult.style.animation = 'none'
        setTimeout(() => {
          magicResult.style.animation = 'fadeIn 0.5s ease-in'
        }, 10)
      }
    </script>

    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
    </style>
  </body>
</html>
